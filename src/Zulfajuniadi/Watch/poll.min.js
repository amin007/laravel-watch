!function(){function i(){b=[],css=[];for(var e,f,g,h,a=document.querySelectorAll("script"),d=document.querySelectorAll("link[href]"),i=0;i<a.length;++i)e=a[i],e.src&&e.src!==c+"/watchpoller.js"&&e.src.indexOf(c)>-1&&(h=e.src.split(c)[1],b.push(h));for(var i=0;i<d.length;++i)f=d[i],f.href&&f.href.indexOf(c)>-1&&(g=f.href.split(c)[1],css.push(g));k()}function j(a){try{var b=new XMLHttpRequest;return b.open("GET",a,!1),b.send(null),200===b.status?(b.response&&"NOOP"!==b.response&&window.location.reload("true"),b.response):!1}catch(c){return c.message}}function k(){setTimeout(function(){var c=JSON.stringify({timestamp:a,js:b,css:css,additionalFolders:f});j("/_watcher?query="+c),k()},e)}var a=(new Date).toISOString(),b=css=[],c=window.location.origin,d=document.getElementById("pollscript"),e=defaultTimeout=3e3,f=[];if(d&&(e=d.dataset.timeout)){var g=d.dataset.additionalfolders;try{f=JSON.parse(g)}catch(h){console.log(g)}e=parseInt(e,10),500>e&&(e=defaultTimeout)}console.log("Watcher started. Interval set at: "+e+"ms."),i()}();