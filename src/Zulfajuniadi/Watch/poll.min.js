!function(){function f(){b=[],css=[];for(var e,f,g,i,a=document.querySelectorAll("script"),d=document.querySelectorAll("link[href]"),j=0;j<a.length;++j)e=a[j],e.src&&e.src!==c+"/watchpoller.js"&&e.src.indexOf(c)>-1&&(i=e.src.split(c)[1],b.push(i));for(var j=0;j<d.length;++j)f=d[j],f.href&&f.href.indexOf(c)>-1&&(g=f.href.split(c)[1],css.push(g));h()}function g(a){try{var b=new XMLHttpRequest;return b.open("GET",a,!1),b.send(null),200===b.status?(b.response&&"RELOAD"===b.response&&window.location.reload("true"),b.response):!1}catch(c){return c.message}}function h(){setTimeout(function(){var c={timestamp:a,js:b,css:css};if(d)for(var e=d.dataset,f=Object.keys(e),i=0;i<f.length;++i){var j=f[i];c[j]=e[j]}var k=JSON.stringify(c);g("/_watcher?query="+k),h()},e)}var a=(new Date).toISOString(),b=css=[],c=window.location.origin,d=document.getElementById("pollscript"),e=d.dataset.timeout||3e3;console.log("Watcher started. Interval set at: "+e+"ms."),f()}();